<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[徐佳琦的个人博客]]></title>
  <link href="http://coderjackie.github.io/atom.xml" rel="self"/>
  <link href="http://coderjackie.github.io/"/>
  <updated>2015-07-31T15:58:51+08:00</updated>
  <id>http://coderjackie.github.io/</id>
  <author>
    <name><![CDATA[徐佳琦]]></name>
    <email><![CDATA[jackie0613@126.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[禁止某个Method]]></title>
    <link href="http://coderjackie.github.io/blog/2015/07/27/jin-zhi-mou-ge-method/"/>
    <updated>2015-07-27T15:57:48+08:00</updated>
    <id>http://coderjackie.github.io/blog/2015/07/27/jin-zhi-mou-ge-method</id>
    <content type="html"><![CDATA[<p>有时，不希望别人使用某个父类方法，比如，写了一个继承NSObject的类，不希望别人用init方法实例化。</p>

<p>那么可以通过这个方法禁止掉，并且报错提示给别人：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'> <span class="c1">#ifndef DOXYGEN_SHOULD_SKIP_THIS</span>
</span><span class='line'>
</span><span class='line'> <span class="sr">//</span> <span class="no">Disallow</span> <span class="n">init</span> <span class="ow">and</span> <span class="n">don</span><span class="err">&#39;</span><span class="n">t</span> <span class="n">add</span> <span class="n">to</span> <span class="n">documentation</span>
</span><span class='line'> <span class="o">-</span> <span class="p">(</span><span class="nb">id</span><span class="p">)</span><span class="n">init</span> <span class="n">__attribute__</span><span class="p">((</span><span class="n">unavailable</span><span class="p">(</span><span class="s2">&quot;init is not a supported initializer for this class.&quot;</span><span class="p">)));</span>
</span><span class='line'>
</span><span class='line'> <span class="c1">#endif</span>
</span></code></pre></td></tr></table></div></figure>


<p><img class="top" src="http://coderjackie.github.io/images/2015-07-27-2/image1.png"></p>

<p><img class="top" src="http://coderjackie.github.io/images/2015-07-27-2/image2.png"></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[设置UIAlert按钮颜色]]></title>
    <link href="http://coderjackie.github.io/blog/2015/07/27/she-zhi-uialertan-niu-yan-se/"/>
    <updated>2015-07-27T11:31:07+08:00</updated>
    <id>http://coderjackie.github.io/blog/2015/07/27/she-zhi-uialertan-niu-yan-se</id>
    <content type="html"><![CDATA[<p>需求：将UIAlertView的button文字改成指定颜色：</p>

<p><img class="top" src="http://coderjackie.github.io/images/2015-07-27-1/image1.png"></p>

<p>代码如下：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">UIAlertView</span> <span class="o">*</span><span class="n">alertView</span> <span class="o">=</span> <span class="o">[[</span><span class="no">UIAlertView</span> <span class="n">alloc</span><span class="o">]</span> <span class="ss">initWithTitle</span><span class="p">:</span><span class="err">@</span><span class="s2">&quot;&quot;</span> <span class="ss">message</span><span class="p">:</span><span class="err">@</span><span class="s2">&quot;设置按钮为红色&quot;</span> <span class="ss">delegate</span><span class="p">:</span><span class="kp">nil</span> <span class="ss">cancelButtonTitle</span><span class="p">:</span><span class="err">@</span><span class="s2">&quot;我是红色&quot;</span> <span class="ss">otherButtonTitles</span><span class="p">:</span><span class="kp">nil</span><span class="o">]</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="o">[[</span><span class="no">UIView</span> <span class="n">appearance</span><span class="o">]</span> <span class="ss">setTintColor</span><span class="p">:</span><span class="o">[</span><span class="no">UIColor</span> <span class="n">redColor</span><span class="o">]]</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="o">[</span><span class="n">alertView</span> <span class="n">show</span><span class="o">]</span><span class="p">;</span>      
</span><span class='line'>
</span></code></pre></td></tr></table></div></figure>


<p>然后要在点击按钮的时候将tintColor置空，因为默认UIView appearance的tintColor是为nil的：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">+</span> <span class="p">(</span><span class="n">void</span><span class="p">)</span><span class="ss">alertView</span><span class="p">:(</span><span class="no">UIAlertView</span> <span class="o">*</span><span class="p">)</span><span class="n">alertView</span> <span class="ss">didDismissWithButtonIndex</span><span class="p">:(</span><span class="no">NSInteger</span><span class="p">)</span><span class="n">buttonIndex</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="n">buttonIndex</span> <span class="o">==</span> <span class="o">[</span><span class="n">alertView</span> <span class="n">cancelButtonIndex</span><span class="o">]</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="o">[[</span><span class="no">UIView</span> <span class="n">appearance</span><span class="o">]</span> <span class="ss">setTintColor</span><span class="p">:</span><span class="kp">nil</span><span class="o">]</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[xcode删除多余证书文件]]></title>
    <link href="http://coderjackie.github.io/blog/2015/07/13/xcodeshan-chu-duo-yu-zheng-shu-wen-jian/"/>
    <updated>2015-07-13T16:37:54+08:00</updated>
    <id>http://coderjackie.github.io/blog/2015/07/13/xcodeshan-chu-duo-yu-zheng-shu-wen-jian</id>
    <content type="html"><![CDATA[<p>删除xcode多余的证书描述文件：</p>

<p><img class="top" src="http://coderjackie.github.io/images/2015-07-13/QQ20150713-1@2x.png"></p>

<p>找到目录：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>~/Library/MobileDevice/Provisioning Profiles
</span></code></pre></td></tr></table></div></figure>


<p>找到对应描述文件名删除，重启xcode即可。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[多电脑编写octopress]]></title>
    <link href="http://coderjackie.github.io/blog/2015/07/13/duo-dian-nao-bian-xie-octopress/"/>
    <updated>2015-07-13T14:16:20+08:00</updated>
    <id>http://coderjackie.github.io/blog/2015/07/13/duo-dian-nao-bian-xie-octopress</id>
    <content type="html"><![CDATA[<ol>
<li>建立公钥私钥</li>
</ol>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">ssh</span><span class="o">-</span><span class="n">keygen</span> <span class="o">-</span><span class="n">t</span> <span class="n">rsa</span>
</span></code></pre></td></tr></table></div></figure>


<p></p>

<ol>
<li><p>在/Users/xujiaqi/.ssh找到id_rsa.pub文件，打记事本打开将其中全部内容复制，粘贴到github或gitcafe的SSH管理里面。</p></li>
<li><p>检查是否可以连接到github或gitcafe</p></li>
</ol>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">ssh</span> <span class="o">-</span><span class="n">T</span> <span class="n">git</span><span class="vi">@github</span><span class="o">.</span><span class="n">com</span>
</span><span class='line'><span class="err">或</span>
</span><span class='line'><span class="n">ssh</span> <span class="o">-</span><span class="n">T</span> <span class="n">git</span><span class="vi">@gitcafe</span><span class="o">.</span><span class="n">com</span>
</span></code></pre></td></tr></table></div></figure>


<p>连接成功：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">Hi</span> <span class="n">coderJackie!</span> <span class="no">You</span><span class="err">&#39;</span><span class="n">ve</span> <span class="n">successfully</span> <span class="n">authenticated</span><span class="p">,</span> <span class="n">but</span> <span class="no">GitCafe</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">provide</span> <span class="n">shell</span> <span class="n">access</span><span class="o">.</span>
</span></code></pre></td></tr></table></div></figure>


<ol>
<li>将博客的源文件clone到本地的octopress文件夹内。</li>
</ol>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">xujiaqideMac</span><span class="o">-</span><span class="ss">mini</span><span class="p">:</span><span class="n">octopress</span> <span class="n">xujiaqi</span><span class="err">$</span> <span class="n">git</span> <span class="nb">clone</span> <span class="o">-</span><span class="n">b</span> <span class="n">source</span>     <span class="n">git</span><span class="vi">@github</span><span class="o">.</span><span class="n">com</span><span class="ss">:CoderJackie</span><span class="o">/</span><span class="n">coderjackie</span><span class="o">.</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">.</span><span class="n">git</span> <span class="n">octopress</span>
</span></code></pre></td></tr></table></div></figure>


<ol>
<li>将博客文件clone到octopress的_deploy文件夹内。</li>
</ol>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">xujiaqideMac</span><span class="o">-</span><span class="ss">mini</span><span class="p">:</span><span class="n">octopress</span> <span class="n">xujiaqi</span><span class="err">$</span> <span class="n">cd</span> <span class="n">octopress</span>
</span><span class='line'><span class="n">xujiaqideMac</span><span class="o">-</span><span class="ss">mini</span><span class="p">:</span><span class="n">octopress</span> <span class="n">xujiaqi</span><span class="err">$</span> <span class="n">git</span> <span class="nb">clone</span> <span class="n">git</span><span class="vi">@github</span><span class="o">.</span><span class="n">com</span><span class="ss">:CoderJackie</span><span class="o">/</span> <span class="n">coderjackie</span><span class="o">.</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">.</span><span class="n">git</span> <span class="n">_deploy</span>
</span></code></pre></td></tr></table></div></figure>


<ol>
<li>安装bundler,rake,如安装过则不需要</li>
</ol>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">cd</span> <span class="n">octopress</span>
</span><span class='line'><span class="n">sudo</span> <span class="n">gem</span> <span class="n">install</span> <span class="n">bundler</span>
</span><span class='line'><span class="n">bundle</span> <span class="n">install</span>
</span><span class='line'><span class="n">rake</span> <span class="n">install</span> <span class="err">（不需要，会覆盖掉原来的主题）</span>
</span></code></pre></td></tr></table></div></figure>


<ol>
<li>最后就可以在这台电脑上写博客了</li>
</ol>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">rake</span> <span class="n">new_post</span><span class="o">[</span><span class="s2">&quot;myBlog&quot;</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>


<ol>
<li>编写完博客要上传到github</li>
</ol>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">rake</span> <span class="n">generate</span>
</span><span class='line'><span class="n">git</span> <span class="n">add</span> <span class="o">.</span>
</span><span class='line'><span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s2">&quot;Some comment here.&quot;</span>
</span><span class='line'><span class="n">git</span> <span class="n">push</span> <span class="n">origin</span> <span class="n">source</span>
</span><span class='line'><span class="n">rake</span> <span class="n">deploy</span>
</span></code></pre></td></tr></table></div></figure>


<ol>
<li>如果无法push到仓库的master分支，尝试在项目目录的.git/config中添加</li>
</ol>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">[</span><span class="n">branch</span> <span class="s2">&quot;master&quot;</span><span class="o">]</span>
</span><span class='line'> <span class="n">remote</span> <span class="o">=</span> <span class="n">origin</span>
</span><span class='line'> <span class="n">merge</span> <span class="o">=</span> <span class="n">refs</span><span class="o">/</span><span class="n">heads</span><span class="o">/</span><span class="n">master</span>
</span></code></pre></td></tr></table></div></figure>


<pre><code>**为防止多台电脑编辑，每次编写前先要pull一下**
</code></pre>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="err">$</span> <span class="n">cd</span> <span class="n">octopress</span>
</span><span class='line'><span class="err">$</span> <span class="n">git</span> <span class="n">pull</span> <span class="n">origin</span> <span class="n">source</span>  <span class="c1"># update the local source branch</span>
</span><span class='line'><span class="err">$</span> <span class="n">cd</span> <span class="o">.</span><span class="n">/_deploy</span>
</span><span class='line'><span class="err">$</span> <span class="n">git</span> <span class="n">pull</span> <span class="n">origin</span> <span class="n">master</span>  <span class="c1"># update the local master branch</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[网页唤醒iOS应用]]></title>
    <link href="http://coderjackie.github.io/blog/2015/02/09/inter-app-communication/"/>
    <updated>2015-02-09T03:39:49+08:00</updated>
    <id>http://coderjackie.github.io/blog/2015/02/09/inter-app-communication</id>
    <content type="html"><![CDATA[<h2>应用间通讯（Inter-App Communication）</h2>

<hr />

<p>前段时间在逛一号店时候发现有个活动，4999抢iPhone6，只支持手机端，扫描二维码后发现是打开个网页，所以就想到在电脑上打开网页会不会更容易抢到iPhone呢。</p>

<!--more-->


<p>首先，用二维码扫描软件扫描发现其地址为 <a href="http://m.yhd.com/sale/134743">http://m.yhd.com/sale/134743</a>,点击4999抢iPhone会跳到iTunes下载页，然后试了下在手机的safari中打开这个<a href="http://m.yhd.com/sale/134743">网址</a>是跳到一号店app中，之前用百度地图和账上生活时遇到过这种情况，但是并没有去研究怎么实现。</p>

<p>回到正题，在点击4999抢iPhone的链接后查看了一下他网页的源码:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
<span class='line-number'>154</span>
<span class='line-number'>155</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'> <span class="o">&lt;!</span><span class="no">DOCTYPE</span> <span class="no">HTML</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="n">html</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="n">head</span><span class="o">&gt;</span>
</span><span class='line'>    <span class="o">&lt;</span><span class="n">meta</span> <span class="n">charset</span><span class="o">=</span><span class="s2">&quot;UTF-8&quot;</span><span class="o">&gt;</span>
</span><span class='line'>    <span class="o">&lt;</span><span class="n">meta</span> <span class="nb">name</span><span class="o">=</span><span class="s2">&quot;Description&quot;</span> <span class="n">content</span><span class="o">=</span><span class="s2">&quot;手机购物，手机团购，进口，食品，饮料，母婴，超市，1号店 &quot;</span><span class="o">/&gt;</span>
</span><span class='line'>  <span class="o">&lt;</span><span class="n">meta</span> <span class="nb">name</span><span class="o">=</span><span class="s2">&quot;Keywords&quot;</span> <span class="n">content</span><span class="o">=</span><span class="s2">&quot;手机购物，手机团购，进口，食品，饮料，母婴，超市，1号店 &quot;</span><span class="o">/&gt;</span>
</span><span class='line'>    <span class="o">&lt;</span><span class="n">title</span><span class="o">&gt;</span><span class="err">促销活动</span><span class="p">,</span><span class="err">掌上一号店</span><span class="p">,</span><span class="err">掌上</span><span class="mi">1</span><span class="err">号店</span><span class="p">,</span><span class="err">比超市更便宜，</span><span class="o">-</span><span class="mi">1</span><span class="err">号店</span><span class="o">&lt;</span><span class="sr">/title&gt;</span>
</span><span class='line'><span class="sr">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0&quot;&gt;</span>
</span><span class='line'><span class="sr">    &lt;meta name=&quot;apple-mobile-web-app-capable&quot; content=&quot;yes&quot;&gt;</span>
</span><span class='line'><span class="sr">    &lt;meta name=&quot;apple-mobile-web-app-status-bar-style&quot; content=&quot;black&quot;&gt;</span>
</span><span class='line'><span class="sr">    &lt;meta name=&quot;format-detection&quot; content=&quot;telephone=no&quot;&gt;</span>
</span><span class='line'><span class="sr">    &lt;script type=&quot;text/</span><span class="n">javascript</span><span class="s2">&quot; src=&quot;</span><span class="ss">http</span><span class="p">:</span><span class="sr">//im</span><span class="n">age</span><span class="o">.</span><span class="n">yihaodianimg</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">mobile</span><span class="o">-</span><span class="n">website</span><span class="o">/</span><span class="n">js</span><span class="o">/</span><span class="n">tracker_top</span><span class="o">.</span><span class="n">js</span><span class="s2">&quot;&gt;&lt;/script&gt;</span>
</span><span class='line'><span class="s2">&lt;script&gt;var _hmt = _hmt || [];_hmt.push([&#39;_setCustomVar&#39;, 4,  &#39;yihaodian&#39;, &#39;yihaodian&#39;, 1]);&lt;/script&gt;&lt;/head&gt;</span>
</span><span class='line'><span class="s2">&lt;script&gt;</span>
</span><span class='line'><span class="s2">    var tu=&quot;</span><span class="mi">10305758297</span><span class="s2">&quot;;</span>
</span><span class='line'><span class="s2">    var sd=&quot;</span><span class="n">null</span><span class="s2">&quot;;</span>
</span><span class='line'><span class="s2">&lt;/script&gt;</span>
</span><span class='line'><span class="s2">&lt;body &gt;</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="s2">&lt;script type=&quot;</span><span class="n">text</span><span class="o">/</span><span class="n">javascript</span><span class="s2">&quot; src=&quot;</span><span class="ss">http</span><span class="p">:</span><span class="sr">//im</span><span class="n">age</span><span class="o">.</span><span class="n">yihaodianimg</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">mobile</span><span class="o">-</span><span class="n">website</span><span class="o">/</span><span class="n">js</span><span class="o">/</span><span class="n">jq</span><span class="o">.</span><span class="mi">1</span><span class="o">.</span><span class="mi">7</span><span class="o">.</span><span class="n">min</span><span class="o">.</span><span class="n">js?v</span><span class="o">=</span><span class="mi">20140408</span><span class="s2">&quot;&gt;&lt;/script&gt;</span>
</span><span class='line'><span class="s2">&lt;script type=&quot;</span><span class="n">text</span><span class="o">/</span><span class="n">javascript</span><span class="s2">&quot; src=&quot;</span><span class="ss">http</span><span class="p">:</span><span class="sr">//im</span><span class="n">age</span><span class="o">.</span><span class="n">yihaodianimg</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">mobile</span><span class="o">-</span><span class="n">website</span><span class="o">/</span><span class="n">js</span><span class="o">/</span><span class="n">jquery</span><span class="o">.</span><span class="n">lazyload</span><span class="o">.</span><span class="n">min</span><span class="o">.</span><span class="n">js</span><span class="s2">&quot;&gt;&lt;/script&gt;</span>
</span><span class='line'><span class="s2">&lt;script type=&quot;</span><span class="n">text</span><span class="o">/</span><span class="n">javascript</span><span class="s2">&quot; src=&quot;</span><span class="ss">http</span><span class="p">:</span><span class="sr">//im</span><span class="n">age</span><span class="o">.</span><span class="n">yihaodianimg</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">mobile</span><span class="o">-</span><span class="n">website</span><span class="o">/</span><span class="n">js</span><span class="o">/</span><span class="n">jquery</span><span class="o">.</span><span class="n">cookie</span><span class="o">.</span><span class="n">js</span><span class="s2">&quot;&gt;&lt;/script&gt;</span>
</span><span class='line'><span class="s2">&lt;script type=&quot;</span><span class="n">text</span><span class="o">/</span><span class="n">javascript</span><span class="s2">&quot; src=&quot;</span><span class="ss">http</span><span class="p">:</span><span class="sr">//im</span><span class="n">age</span><span class="o">.</span><span class="n">yihaodianimg</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">mobile</span><span class="o">-</span><span class="n">website</span><span class="o">/</span><span class="n">js</span><span class="o">/</span><span class="n">tracker</span><span class="o">.</span><span class="n">js</span><span class="s2">&quot;&gt;&lt;/script&gt;</span>
</span><span class='line'><span class="s2">&lt;script type=&quot;</span><span class="n">text</span><span class="o">/</span><span class="n">javascript</span><span class="s2">&quot; src=&quot;</span><span class="ss">http</span><span class="p">:</span><span class="sr">//im</span><span class="n">age</span><span class="o">.</span><span class="n">yihaodianimg</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">mobile</span><span class="o">-</span><span class="n">website</span><span class="o">/</span><span class="n">js</span><span class="o">/</span><span class="n">tracker_hijack</span><span class="o">.</span><span class="n">js</span><span class="s2">&quot;&gt;&lt;/script&gt;</span>
</span><span class='line'><span class="s2">&lt;script type=&quot;</span><span class="n">text</span><span class="o">/</span><span class="n">javascript</span><span class="s2">&quot;&gt;</span>
</span><span class='line'><span class="s2">goapp(&#39;9&#39;);</span>
</span><span class='line'><span class="s2">function goapp(type) {</span>
</span><span class='line'><span class="s2">//1-cms;2-商品详情；3-团购；4-摇一摇；5-商品搜索；6-赠品；7-n元n件；8-满减;9-首页</span>
</span><span class='line'><span class="s2"> if(type==1){</span>
</span><span class='line'><span class="s2">     cms(&#39;0&#39;,&#39;0&#39;,&#39;false&#39;);</span>
</span><span class='line'><span class="s2"> }else if(type==2){</span>
</span><span class='line'><span class="s2">     prodetail(&#39;0&#39;,&#39;0&#39;,&#39;null&#39;,&#39;null&#39;);</span>
</span><span class='line'><span class="s2"> }else if(type==3){</span>
</span><span class='line'><span class="s2">     grpetail(&#39;0&#39;,&#39;0&#39;);</span>
</span><span class='line'><span class="s2"> }else if(type==4){</span>
</span><span class='line'><span class="s2">     rockhomepage();</span>
</span><span class='line'><span class="s2"> }else if(type==5){</span>
</span><span class='line'><span class="s2">     search(&#39;0&#39;);</span>
</span><span class='line'><span class="s2"> }else if(type ==6){</span>
</span><span class='line'><span class="s2">     promofree();</span>
</span><span class='line'><span class="s2"> }else if(type ==7){</span>
</span><span class='line'><span class="s2">   promonn(&#39;0&#39;,&#39;0&#39;);</span>
</span><span class='line'><span class="s2"> }else if(type ==8){</span>
</span><span class='line'><span class="s2">    promocutoff(&#39;0&#39;)</span>
</span><span class='line'><span class="s2"> }else if(type ==9){</span>
</span><span class='line'><span class="s2">    goindex();</span>
</span><span class='line'><span class="s2"> }</span>
</span><span class='line'>
</span><span class='line'><span class="s2">}</span>
</span><span class='line'><span class="s2">//cms活动页</span>
</span><span class='line'><span class="s2">function cms(cmsid,provinceId,idexistflag) {</span>
</span><span class='line'><span class="s2">    </span>
</span><span class='line'><span class="s2">    urlGo(&quot;</span><span class="ss">yhd</span><span class="p">:</span><span class="sr">//</span><span class="n">cms</span><span class="o">/</span><span class="s2">&quot;+cmsid+&quot;</span><span class="n">_</span><span class="s2">&quot;+provinceId);</span>
</span><span class='line'><span class="s2">    </span>
</span><span class='line'><span class="s2">    var url;</span>
</span><span class='line'><span class="s2">    if(idexistflag==&#39;true&#39;){</span>
</span><span class='line'><span class="s2">      url =&quot;</span><span class="n">urlGo</span><span class="p">(</span><span class="s1">&#39;http://m.yhd.com/mw/cms/&quot;+cmsid+&quot;/20/&quot;+provinceId+&quot;&#39;</span><span class="p">)</span><span class="s2">&quot;;</span>
</span><span class='line'><span class="s2">      //url =&quot;</span><span class="n">urlGo</span><span class="p">(</span><span class="s1">&#39;http://m.yhd.com/mw/newcms/&quot;+cmsid+&quot;?provinceId=&quot;+provinceId+&quot;&#39;</span><span class="p">)</span><span class="s2">&quot;;</span>
</span><span class='line'><span class="s2">    }else{</span>
</span><span class='line'><span class="s2">     url =&#39;urlGo(&quot;</span><span class="ss">http</span><span class="p">:</span><span class="sr">//m</span><span class="o">.</span><span class="n">yhd</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">mw</span><span class="o">/</span><span class="n">d</span><span class="s2">&quot;)&#39;;</span>
</span><span class='line'><span class="s2">    }</span>
</span><span class='line'><span class="s2">     setTimeout(url,3000);</span>
</span><span class='line'><span class="s2">}</span>
</span><span class='line'><span class="s2">//商品详情</span>
</span><span class='line'><span class="s2">function prodetail(proid,provinceId,promotionid,pmid) {</span>
</span><span class='line'><span class="s2">    var promotionidwebsite = promotionid;</span>
</span><span class='line'><span class="s2">    if(promotionidwebsite ==null || promotionidwebsite==&#39;null&#39;){</span>
</span><span class='line'><span class="s2">      promotionidwebsite =&quot;&quot;;</span>
</span><span class='line'><span class="s2">    }</span>
</span><span class='line'><span class="s2">    </span>
</span><span class='line'><span class="s2">    if(promotionid ==null || promotionid==&#39;null&#39;){</span>
</span><span class='line'><span class="s2">      promotionid =&quot;&quot;;</span>
</span><span class='line'><span class="s2">    }else{</span>
</span><span class='line'><span class="s2">      promotionid=&quot;</span><span class="n">_</span><span class="s2">&quot;+promotionid</span>
</span><span class='line'><span class="s2">    }</span>
</span><span class='line'><span class="s2">    if(pmid ==null || pmid==&#39;null&#39;){</span>
</span><span class='line'><span class="s2">     pmid=&quot;</span><span class="n">_0</span><span class="s2">&quot;;</span>
</span><span class='line'><span class="s2">    }else{</span>
</span><span class='line'><span class="s2">     pmid=&quot;</span><span class="n">_</span><span class="s2">&quot;+pmid;</span>
</span><span class='line'><span class="s2">    }</span>
</span><span class='line'><span class="s2">    var url=&quot;&quot;;</span>
</span><span class='line'><span class="s2">    if(tu &amp;&amp; sd){</span>
</span><span class='line'><span class="s2">     url=&quot;</span><span class="ss">http</span><span class="p">:</span><span class="sr">//m</span><span class="o">.</span><span class="n">yhd</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">mw</span><span class="o">/</span><span class="n">productsquid</span><span class="o">/</span><span class="s2">&quot;+proid+&quot;</span><span class="o">/</span><span class="s2">&quot;+provinceId+&quot;</span><span class="o">/</span><span class="mi">20</span><span class="o">/</span><span class="s2">&quot;+promotionidwebsite+&quot;</span><span class="p">?</span><span class="n">tracker_u</span><span class="o">=</span><span class="s2">&quot;+tu+&quot;</span><span class="o">&amp;</span><span class="n">source_id</span><span class="o">=</span><span class="s2">&quot;+sd;</span>
</span><span class='line'><span class="s2">    }else{</span>
</span><span class='line'><span class="s2">     url=&quot;</span><span class="ss">http</span><span class="p">:</span><span class="sr">//m</span><span class="o">.</span><span class="n">yhd</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">mw</span><span class="o">/</span><span class="n">productsquid</span><span class="o">/</span><span class="s2">&quot;+proid+&quot;</span><span class="o">/</span><span class="s2">&quot;+provinceId+&quot;</span><span class="o">/</span><span class="mi">20</span><span class="o">/</span><span class="s2">&quot;+promotionidwebsite;</span>
</span><span class='line'><span class="s2">    }</span>
</span><span class='line'><span class="s2">    // var url =&quot;</span><span class="n">urlGo</span><span class="p">()</span><span class="s2">&quot;;</span>
</span><span class='line'><span class="s2">      </span>
</span><span class='line'><span class="s2">        urlGo(&quot;</span><span class="ss">yhd</span><span class="p">:</span><span class="sr">//</span><span class="n">product</span><span class="o">/</span><span class="s2">&quot;+proid+&quot;</span><span class="n">_</span><span class="s2">&quot;+provinceId+promotionid+pmid);</span>
</span><span class='line'><span class="s2">       </span>
</span><span class='line'><span class="s2">    setTimeout(function(){</span>
</span><span class='line'><span class="s2">     urlGo(url);</span>
</span><span class='line'><span class="s2">    },3000);</span>
</span><span class='line'><span class="s2">}</span>
</span><span class='line'><span class="s2">//团购</span>
</span><span class='line'><span class="s2">function grpetail(grpid,provinceId) {</span>
</span><span class='line'><span class="s2">     </span>
</span><span class='line'><span class="s2">       urlGo(&quot;</span><span class="ss">yhd</span><span class="p">:</span><span class="sr">//</span><span class="n">groupon</span><span class="o">/</span><span class="s2">&quot;+grpid+&quot;</span><span class="n">_</span><span class="s2">&quot;+provinceId);</span>
</span><span class='line'><span class="s2">     </span>
</span><span class='line'><span class="s2">    var url =&quot;</span><span class="n">urlGo</span><span class="p">(</span><span class="s1">&#39;http://m.yhd.com/mw/groupdetail/&quot;+grpid+&quot;/&quot;+provinceId+&quot;&#39;</span><span class="p">)</span><span class="s2">&quot;;</span>
</span><span class='line'><span class="s2">    setTimeout(url,3000);</span>
</span><span class='line'><span class="s2">}</span>
</span><span class='line'><span class="s2">//摇一摇</span>
</span><span class='line'><span class="s2">function rockhomepage() {</span>
</span><span class='line'><span class="s2"> </span>
</span><span class='line'><span class="s2">    urlGo(&quot;</span><span class="ss">yhd</span><span class="p">:</span><span class="sr">//</span><span class="n">rockhomepage</span><span class="o">/</span><span class="s2">&quot;);</span>
</span><span class='line'><span class="s2">  </span>
</span><span class='line'><span class="s2">    setTimeout(&#39;urlGo(&quot;</span><span class="ss">http</span><span class="p">:</span><span class="sr">//m</span><span class="o">.</span><span class="n">yhd</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">mw</span><span class="o">/</span><span class="n">d</span><span class="s2">&quot;)&#39;,3000);</span>
</span><span class='line'><span class="s2">}</span>
</span><span class='line'><span class="s2">//商品搜索</span>
</span><span class='line'><span class="s2">function search(keyword) {</span>
</span><span class='line'><span class="s2">     </span>
</span><span class='line'><span class="s2">    urlGo(&quot;</span><span class="ss">yhd</span><span class="p">:</span><span class="sr">//se</span><span class="n">arch</span><span class="o">/</span><span class="s2">&quot;+keyword+&quot;</span><span class="n">_1_1</span><span class="s2">&quot;);</span>
</span><span class='line'><span class="s2">    </span>
</span><span class='line'><span class="s2">    var url =&quot;</span><span class="n">urlGo</span><span class="p">(</span><span class="s1">&#39;http://m.yhd.com/mw/search?keyword=&quot;+keyword+&quot;&amp;searchid=1&amp;serchtype=&#39;</span><span class="p">)</span><span class="s2">&quot;;</span>
</span><span class='line'><span class="s2">    setTimeout(url,3000);</span>
</span><span class='line'><span class="s2">}</span>
</span><span class='line'><span class="s2">//赠品促销</span>
</span><span class='line'><span class="s2">function promofree() {</span>
</span><span class='line'><span class="s2">    </span>
</span><span class='line'><span class="s2">    urlGo(&quot;</span><span class="ss">yhd</span><span class="p">:</span><span class="sr">//</span><span class="n">promofree</span><span class="o">/</span><span class="mi">1_1</span><span class="s2">&quot;);</span>
</span><span class='line'><span class="s2">    </span>
</span><span class='line'><span class="s2">    setTimeout(&#39;urlGo(&quot;</span><span class="ss">http</span><span class="p">:</span><span class="sr">//m</span><span class="o">.</span><span class="n">yhd</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">mw</span><span class="o">/</span><span class="n">d</span><span class="s2">&quot;)&#39;,3000);</span>
</span><span class='line'><span class="s2">}</span>
</span><span class='line'><span class="s2">//n元n件促销</span>
</span><span class='line'><span class="s2">function promonn(promotionid,levelid) {</span>
</span><span class='line'><span class="s2">     </span>
</span><span class='line'><span class="s2">    urlGo(&quot;</span><span class="ss">yhd</span><span class="p">:</span><span class="sr">//</span><span class="n">promonn</span><span class="o">/</span><span class="s2">&quot;+promotionid+&quot;</span><span class="n">_</span><span class="s2">&quot;+levelid);</span>
</span><span class='line'><span class="s2">     </span>
</span><span class='line'><span class="s2">    setTimeout(&#39;urlGo(&quot;</span><span class="ss">http</span><span class="p">:</span><span class="sr">//m</span><span class="o">.</span><span class="n">yhd</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">mw</span><span class="o">/</span><span class="n">d</span><span class="s2">&quot;)&#39;,3000);</span>
</span><span class='line'><span class="s2">}</span>
</span><span class='line'><span class="s2">//满减列表促销</span>
</span><span class='line'><span class="s2">function promocutoff(promotionid) {</span>
</span><span class='line'><span class="s2">    </span>
</span><span class='line'><span class="s2">    urlGo(&quot;</span><span class="ss">yhd</span><span class="p">:</span><span class="sr">//</span><span class="n">promocutoff</span><span class="o">/</span><span class="s2">&quot;+promotionid);</span>
</span><span class='line'><span class="s2">    </span>
</span><span class='line'><span class="s2">    setTimeout(&#39;urlGo(&quot;</span><span class="ss">http</span><span class="p">:</span><span class="sr">//m</span><span class="o">.</span><span class="n">yhd</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">mw</span><span class="o">/</span><span class="n">d</span><span class="s2">&quot;)&#39;,3000);</span>
</span><span class='line'><span class="s2">}</span>
</span><span class='line'><span class="s2">//首页</span>
</span><span class='line'><span class="s2">function goindex() {</span>
</span><span class='line'><span class="s2"> </span>
</span><span class='line'><span class="s2">      urlGo(&quot;</span><span class="ss">yhd</span><span class="p">:</span><span class="sr">//</span><span class="n">home</span><span class="o">/</span><span class="s2">&quot;);</span>
</span><span class='line'><span class="s2"> </span>
</span><span class='line'><span class="s2">    setTimeout(&#39;urlGo(&quot;</span><span class="ss">http</span><span class="p">:</span><span class="sr">//m</span><span class="o">.</span><span class="n">yhd</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">mw</span><span class="o">/</span><span class="n">d</span><span class="s2">&quot;)&#39;,3000);</span>
</span><span class='line'><span class="s2">}</span>
</span><span class='line'>
</span><span class='line'><span class="s2">function urlGo(url){</span>
</span><span class='line'><span class="s2">    setTimeout(function(){</span>
</span><span class='line'><span class="s2">        window.location = url;</span>
</span><span class='line'><span class="s2">    },10);</span>
</span><span class='line'><span class="s2">} </span>
</span><span class='line'><span class="s2">&lt;/script&gt;</span>
</span><span class='line'><span class="s2">&lt;/body&gt;</span>
</span><span class='line'><span class="s2">&lt;/html&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p> 一号店的工程师还挺负责的，都写上了注释。原来他是用 <a href="yhd://">yhd://</a>这个协议唤醒了app，通过搜索引擎一番搜索才知道，原来这个就是通过URL scheme来打开的，相信做过app分享的都不陌生，通过设置程序的URL scheme来打开微信、微博等社交软件，但是之前不知道这个scheme还可以通过网页来唤醒app。看到苹果官方文档，原来这个就是应用间通讯(Inter-App Communication)。通过在appdelegate中可以对链接进行判断跳转，官方示例：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="o">-</span> <span class="p">(</span><span class="no">BOOL</span><span class="p">)</span><span class="ss">application</span><span class="p">:(</span><span class="no">UIApplication</span> <span class="o">*</span><span class="p">)</span><span class="n">application</span> <span class="ss">openURL</span><span class="p">:(</span><span class="no">NSURL</span> <span class="o">*</span><span class="p">)</span><span class="n">url</span>
</span><span class='line'>        <span class="ss">sourceApplication</span><span class="p">:(</span><span class="no">NSString</span> <span class="o">*</span><span class="p">)</span><span class="n">sourceApplication</span> <span class="ss">annotation</span><span class="p">:(</span><span class="nb">id</span><span class="p">)</span><span class="n">annotation</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="o">[[</span><span class="n">url</span> <span class="n">scheme</span><span class="o">]</span> <span class="ss">isEqualToString</span><span class="p">:</span><span class="err">@</span><span class="s2">&quot;todolist&quot;</span><span class="o">]</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="no">ToDoItem</span> <span class="o">*</span><span class="n">item</span> <span class="o">=</span> <span class="o">[[</span><span class="no">ToDoItem</span> <span class="n">alloc</span><span class="o">]</span> <span class="n">init</span><span class="o">]</span><span class="p">;</span>
</span><span class='line'>        <span class="no">NSString</span> <span class="o">*</span><span class="n">taskName</span> <span class="o">=</span> <span class="o">[</span><span class="n">url</span> <span class="n">query</span><span class="o">]</span><span class="p">;</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">taskName</span> <span class="o">||</span> <span class="o">![</span><span class="nb">self</span> <span class="ss">isValidTaskString</span><span class="p">:</span><span class="n">taskName</span><span class="o">]</span><span class="p">)</span> <span class="p">{</span> <span class="sr">//</span> <span class="n">must</span> <span class="n">have</span> <span class="n">a</span> <span class="n">task</span> <span class="nb">name</span>
</span><span class='line'>            <span class="k">return</span> <span class="no">NO</span><span class="p">;</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>        <span class="n">taskName</span> <span class="o">=</span> <span class="o">[</span><span class="n">taskName</span> <span class="ss">stringByReplacingPercentEscapesUsingEncoding</span><span class="p">:</span><span class="no">NSUTF8StringEncoding</span><span class="o">]</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">item</span><span class="o">.</span><span class="n">toDoTask</span> <span class="o">=</span> <span class="n">taskName</span><span class="p">;</span>
</span><span class='line'>        <span class="no">NSString</span> <span class="o">*</span><span class="n">dateString</span> <span class="o">=</span> <span class="o">[</span><span class="n">url</span> <span class="n">fragment</span><span class="o">]</span><span class="p">;</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">dateString</span> <span class="o">||</span> <span class="o">[</span><span class="n">dateString</span> <span class="ss">isEqualToString</span><span class="p">:</span><span class="err">@</span><span class="s2">&quot;today&quot;</span><span class="o">]</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="n">item</span><span class="o">.</span><span class="n">dateDue</span> <span class="o">=</span> <span class="o">[</span><span class="no">NSDate</span> <span class="n">date</span><span class="o">]</span><span class="p">;</span>
</span><span class='line'>        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>            <span class="k">if</span> <span class="p">(</span><span class="o">![</span><span class="nb">self</span> <span class="ss">isValidDateString</span><span class="p">:</span><span class="n">dateString</span><span class="o">]</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                <span class="k">return</span> <span class="no">NO</span><span class="p">;</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>            <span class="sr">//</span> <span class="nb">format</span><span class="p">:</span> <span class="n">yyyymmddhhmm</span> <span class="p">(</span><span class="mi">24</span><span class="o">-</span><span class="n">hour</span> <span class="n">clock</span><span class="p">)</span>
</span><span class='line'>            <span class="no">NSString</span> <span class="o">*</span><span class="n">curStr</span> <span class="o">=</span> <span class="o">[</span><span class="n">dateString</span> <span class="ss">substringWithRange</span><span class="p">:</span><span class="no">NSMakeRange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span><span class="o">]</span><span class="p">;</span>
</span><span class='line'>            <span class="no">NSInteger</span> <span class="n">yeardigit</span> <span class="o">=</span> <span class="o">[</span><span class="n">curStr</span> <span class="n">integerValue</span><span class="o">]</span><span class="p">;</span>
</span><span class='line'>            <span class="n">curStr</span> <span class="o">=</span> <span class="o">[</span><span class="n">dateString</span> <span class="ss">substringWithRange</span><span class="p">:</span><span class="no">NSMakeRange</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">]</span><span class="p">;</span>
</span><span class='line'>            <span class="no">NSInteger</span> <span class="n">monthdigit</span> <span class="o">=</span> <span class="o">[</span><span class="n">curStr</span> <span class="n">integerValue</span><span class="o">]</span><span class="p">;</span>
</span><span class='line'>            <span class="n">curStr</span> <span class="o">=</span> <span class="o">[</span><span class="n">dateString</span> <span class="ss">substringWithRange</span><span class="p">:</span><span class="no">NSMakeRange</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">]</span><span class="p">;</span>
</span><span class='line'>            <span class="no">NSInteger</span> <span class="n">daydigit</span> <span class="o">=</span> <span class="o">[</span><span class="n">curStr</span> <span class="n">integerValue</span><span class="o">]</span><span class="p">;</span>
</span><span class='line'>            <span class="n">curStr</span> <span class="o">=</span> <span class="o">[</span><span class="n">dateString</span> <span class="ss">substringWithRange</span><span class="p">:</span><span class="no">NSMakeRange</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">]</span><span class="p">;</span>
</span><span class='line'>            <span class="no">NSInteger</span> <span class="n">hourdigit</span> <span class="o">=</span> <span class="o">[</span><span class="n">curStr</span> <span class="n">integerValue</span><span class="o">]</span><span class="p">;</span>
</span><span class='line'>            <span class="n">curStr</span> <span class="o">=</span> <span class="o">[</span><span class="n">dateString</span> <span class="ss">substringWithRange</span><span class="p">:</span><span class="no">NSMakeRange</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">]</span><span class="p">;</span>
</span><span class='line'>            <span class="no">NSInteger</span> <span class="n">minutedigit</span> <span class="o">=</span> <span class="o">[</span><span class="n">curStr</span> <span class="n">integerValue</span><span class="o">]</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>            <span class="no">NSDateComponents</span> <span class="o">*</span><span class="n">dateComps</span> <span class="o">=</span> <span class="o">[[</span><span class="no">NSDateComponents</span> <span class="n">alloc</span><span class="o">]</span> <span class="n">init</span><span class="o">]</span><span class="p">;</span>
</span><span class='line'>            <span class="o">[</span><span class="n">dateComps</span> <span class="ss">setYear</span><span class="p">:</span><span class="n">yeardigit</span><span class="o">]</span><span class="p">;</span>
</span><span class='line'>            <span class="o">[</span><span class="n">dateComps</span> <span class="ss">setMonth</span><span class="p">:</span><span class="n">monthdigit</span><span class="o">]</span><span class="p">;</span>
</span><span class='line'>            <span class="o">[</span><span class="n">dateComps</span> <span class="ss">setDay</span><span class="p">:</span><span class="n">daydigit</span><span class="o">]</span><span class="p">;</span>
</span><span class='line'>            <span class="o">[</span><span class="n">dateComps</span> <span class="ss">setHour</span><span class="p">:</span><span class="n">hourdigit</span><span class="o">]</span><span class="p">;</span>
</span><span class='line'>            <span class="o">[</span><span class="n">dateComps</span> <span class="ss">setMinute</span><span class="p">:</span><span class="n">minutedigit</span><span class="o">]</span><span class="p">;</span>
</span><span class='line'>            <span class="no">NSCalendar</span> <span class="o">*</span><span class="n">calendar</span> <span class="o">=</span> <span class="o">[</span><span class="n">s</span><span class="o">[</span><span class="no">NSCalendar</span> <span class="n">alloc</span><span class="o">]</span> <span class="ss">initWithCalendarIdentifier</span><span class="p">:</span><span class="no">NSGregorianCalendar</span><span class="o">]</span><span class="p">;</span>
</span><span class='line'>            <span class="no">NSDate</span> <span class="o">*</span><span class="n">itemDate</span> <span class="o">=</span> <span class="o">[</span><span class="n">calendar</span> <span class="ss">dateFromComponents</span><span class="p">:</span><span class="n">dateComps</span><span class="o">]</span><span class="p">;</span>
</span><span class='line'>            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">itemDate</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                <span class="k">return</span> <span class="no">NO</span><span class="p">;</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>            <span class="n">item</span><span class="o">.</span><span class="n">dateDue</span> <span class="o">=</span> <span class="n">itemDate</span><span class="p">;</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="o">[</span><span class="p">(</span><span class="no">NSMutableArray</span> <span class="o">*</span><span class="p">)</span><span class="nb">self</span><span class="o">.</span><span class="n">list</span> <span class="ss">addObject</span><span class="p">:</span><span class="n">item</span><span class="o">]</span><span class="p">;</span>
</span><span class='line'>        <span class="k">return</span> <span class="no">YES</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="k">return</span> <span class="no">NO</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>可以用这个地址打开app，并且在appdelegate中对地址进行分析，得到产品id，活动类型，来负责跳到不同界面。</p>

<p>最后吐槽一号店，活动前一天并没有限制必须跳转到app，所以我保存了iPhone抢购的详情页，第二天抢购的时候用电脑浏览器刷新时间，iPhone一秒钟全部抢光，但是已售出才10几件，明显是在坑人啊。第二轮抢购发现他限制必须进入app抢购，这明显阻挡不了程序员啊，通过charles分析抓包找到了真是地址，发现第二轮已经去掉了已售出记录，大公司还来这一套，可惜了我定了5个闹钟，唯一收获就是学到了通过设置URL scheme在其他应用来唤醒app。</p>

<p>官方文档 <a href="https://developer.apple.com/library/ios/documentation/iPhone/Conceptual/iPhoneOSProgrammingGuide/Inter-AppCommunication/Inter-AppCommunication.html">Inter-App Communication</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[octopress绑定个人域名]]></title>
    <link href="http://coderjackie.github.io/blog/2015/01/25/bangdingyuming/"/>
    <updated>2015-01-25T00:28:46+08:00</updated>
    <id>http://coderjackie.github.io/blog/2015/01/25/bangdingyuming</id>
    <content type="html"><![CDATA[<p>一直想拥有一个个人域名，前几天无聊去Godaddy上搜了一下，发现<a href="http://www.xujiaqi.info">http://www.xujiaqi.info</a>域名才20元一年，直接入手，接下来就是域名解析了。</p>

<p>域名解析使用的国内<a href="http://www.dnspod.cn">DNSPOD</a>,首先在Godaddy上修改DNS地址。</p>

<!--more-->


<ol>
<li><p>登录<a href="http://www.godaddy.com">www.godaddy.com</a>  ！</p></li>
<li><p>点击 Manage My Domains</p></li>
</ol>


<p><img class="top" src="http://coderjackie.github.io/images/2015-01-25/image1@2x.png"></p>

<ol>
<li>点击【Set NameServers】</li>
</ol>


<p><img class="top" src="http://coderjackie.github.io/images/2015-01-25/image2@2x.png"></p>

<ol>
<li>然后添加两个NAMESERVERS</li>
</ol>


<p><img class="top" src="http://coderjackie.github.io/images/2015-01-25/image3@2x.png"></p>

<p>首先在<a href="http://gitcafe.com/GitCafe/Help/wiki/Pages-%E7%9B%B8%E5%85%B3%E5%B8%AE%E5%8A%A9#wiki">根据gitcafe</a>上教程，在项目管理里添加域名，比如我添加了:</p>

<p><img class="top" src="http://coderjackie.github.io/images/2015-01-25/image5@2x.png"></p>

<p>然后在<a href="http://www.dnspod.cn">DNSPOD</a>上注册一个账户，然后添加域名，并添加A记录或者设置CNAME</p>

<p><img class="top" src="http://coderjackie.github.io/images/2015-01-25/image4@2x.png"></p>

<p>现在你就可以在浏览器中直接打开你的域名了, 可以通过
<a href="http://xujiaqi.info">http://xujiaqi.info</a>，
<a href="http://www.xujiaqi.info">http://www.xujiaqi.info</a>，
<a href="http://blog.xujiaqi.info">http://blog.xujiaqi.info</a>，
<a href="http://m.xujiaqi.info">http://m.xujiaqi.info</a>来打开你的博客了。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[搭建基于octopress的个人blog]]></title>
    <link href="http://coderjackie.github.io/blog/2015/01/08/bulid-blog-by-octopress/"/>
    <updated>2015-01-08T00:35:45+08:00</updated>
    <id>http://coderjackie.github.io/blog/2015/01/08/bulid-blog-by-octopress</id>
    <content type="html"><![CDATA[<p>想要有一个自己的独立博客是很久之前的事。</p>

<p>以前也在其他网站上写过自己的博客，但总觉得用的不顺手，感觉少了归属感，最主要是提供的界面感觉都不怎么好。</p>

<p>最近想学学<strong>Git</strong>，知道了<strong>Github</strong>，开始以为就是个代码仓库，后来才发现还提供了page服务，可以用来在上面搭建自己的<strong>独立博客</strong>。</p>

<p>在Github上搭建博客可以利用<a href="https://github.com/mojombo/jekyll/wiki">Jekyll</a>或者<a href="http://octopress.org/">Octopress</a>，Octopress是在Jekyll上建立起来的，即使没有网站设计经验的人也能够快速搭建起自己的博客。</p>

<!--more-->


<p>Jekyll和Octopress都是利用<strong>Ruby</strong>实现的，因此在搭建自己博客的过程中难免要接触到一些Ruby的东西，嗯，这说不定也是一个让自己开始了解Ruby的契机。</p>

<p>整个博客的内容和设置都是通过Git进行版本管理的，其中当然需要了解一些基本的Git操作，其实也没有几个常用的命令。</p>

<p>Mac OS 10.10.1</p>

<p>下面是我用Octopress搭建博客的过程:</p>

<h2>安装和设置Git</h2>

<h2>安装Ruby环境</h2>

<h2>安装Octopress</h2>

<p>先通过Git从Github上克隆一份Octopress</p>

<pre><code>git clone git://github.com/imathis/octopress.git octopress
</code></pre>

<p>然后安装一些依赖的工具</p>

<pre><code>cd octopress
ruby --version 
gem install bundler
bundle install
</code></pre>

<p>安装Octopress默认的Theme</p>

<pre><code>rake install
</code></pre>

<h2>配置Octopress</h2>

<h2>开始写博文</h2>

<h2>预览效果</h2>

<p>在修改设置或者写完文章后，想看看具体效果，可以通过如下命令来完成:</p>

<pre><code>rake generate
rake preview
</code></pre>

<p>然后在浏览器中<a href="http://localhost:4000/">打开</a>来看一看效果。</p>

<h2>将博客部署到Github上</h2>

<p>在预览的效果符合自己的预期后，就可以通过如下命令将内容部署到Github上了。</p>

<p>第一次部署前需要先要在Github上创建一个<strong>username.github.com</strong>的repository，
然后通过<code>rake setup_github_pages</code>将自己的Blog与上述的repository关联起来。
在其过程中根据提示输入<strong>username.github.com</strong>。</p>

<p>然后就可以通过下面的命令来部署自己的博客内容至Github了:</p>

<pre><code>rake deploy
git status
git add .
git commit -a -m 'comment'
git push origin source
</code></pre>

<h2>开始浏览自己的博客</h2>

<p>在浏览器的地址栏中输入<strong>username.github.com</strong>，打开的网站就是自己的博客了，此刻一个独立博客就如此问世了!</p>

<p>以后就可以享受这种以Geek方式来写博客的生活了!</p>
]]></content>
  </entry>
  
</feed>
